<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Mat's Blog-O-Matic - fedora</title>
        <link rel="stylesheet" href="http://blog.matbooth.co.uk/theme/css/main.css" />
        <link href="http://blog.matbooth.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Mat's Blog-O-Matic Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://blog.matbooth.co.uk/">Mat's Blog-O-Matic<strong>A Linux, coding and DIY blog.</strong></a></h1>
                <nav><ul>
                    <li><a href="/tag/fedora.html">Fedora</a></li>
                    <li><a href="/tag/eclipse.html">Eclipse</a></li>
                    <li><a href="/tag/diy.html">DIY</a></li>
                    <li><a href="http://blog.matbooth.co.uk/pages/about-mat-booth.html">About Mat Booth</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://blog.matbooth.co.uk/13-eclipse-handling-content-types.html">Eclipse and Handling Content Types on Linux</a></h1>
<footer class="post-info">
        <abbr class="published" title="2020-02-06T15:00:00+00:00">
                Published: Thu 06 February 2020
        </abbr>
		<br />
        <abbr class="modified" title="2020-02-06T15:00:00+00:00">
                Updated: Thu 06 February 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info --><p>One of the ways we achieve nice desktop integration on Linux by packaging Eclipse in RPMs or as a Flatpak application is by providing a desktop entry file (using the Freedesktop <a href="https://specifications.freedesktop.org/desktop-entry-spec/latest/">Desktop Entry Specification</a>) to allow desktop environments to list Eclipse in their application launchers and menus.</p>
<p>In this file we may also declare what content types Eclipse supports so that we also get nice integration with file managers. This results in users discovering that files may be edited with Eclipse before they even start up their IDE. For example, if you install the <a href="https://flathub.org/apps/details/org.eclipse.Java">Flatpak version of Eclipse</a>, you may now see this nice context menu entry when you right-click on Java, Maven POM or Gradle Build files:</p>
<p><img alt="Open with Eclipse" src="http://blog.matbooth.co.uk/images/open_with.png"></p>
<p>However there seems to be (surprisingly to me, at least) no Freedesktop standard way to do any post-installation manipulation of the information supplied by desktop entry files; an application that has the ability to install plug-ins through it's own integral Marketplace client like Eclipse does has no ability to tell the host system about the new content type support that new plug-ins add.</p>
<p>Apparently this is not really a common use-case, and applications generally do one of two things:</p>
<h2>Thing 1 (Be Greedy)</h2>
<p>Just declare that they support all the file types, and fail gracefully if the support is missing. E.g. a video player will just declare that it supports all the different kinds of videos and if a codec is missing it just warns the user when it fails. The user can then install that codec at their leisure and try again.</p>
<p>In Eclipse's case, I don't think we can know up front all the possible content types for which people can author plug-ins, however each Marketplace entry advertises (or should advertise) what content types are supported by its plug-ins. By collecting this information for Marketplace entries that support the release of Eclipse we are building (e.g., 2019-12) we could generate a monster desktop file that contains all the types the Marketplace knows about at that time.</p>
<h3>Pros:</h3>
<p>This allows users to discover that Eclipse can support a type even before the user has even opened Eclipse, or installed any plug-ins, simply by attempting to open a file in their file manager.</p>
<h3>Cons:</h3>
<p>New Marketplace entries created after Eclipse is built would be omitted from this list, but that might not a be big problem in real life. A rebuild would be required to update the content type list.</p>
<p>We also would not be able to generate this list at build time for RPM or Flatpak type distributions of Eclipse since these build environments allow no connection to the outside world -- it would require the packager to maintain/pre-build such a list.</p>
<p>It might be okay for e.g., VLC to do this since it only "claims" audio/video files, but there would be no limit to the kinds of files that Eclipse might "claim" and this might be too intrusive or annoying for the user.</p>
<h2>Thing 2 (Be Honest)</h2>
<p>When installed, extensions deliver additional desktop entry files that contain the additional content types and actions to open them, but are with a flag set to make them "hidden" to allow file managers to present it as an option when opening files but avoid duplicate entries in the desktop environment's applications menu. This means an application will only advertise its current capabilities. For example, even though you have the <code>libreoffice-core</code> package installed, you might not get an "open with" option for spreadsheets until you install <code>libreoffice-calc</code>.</p>
<p>In Eclipse's case we know what content types a plug-in supports because each one contributes to the extension registry about which file extensions it knows, so Eclipse could be taught to generate new desktop entries file after a p2 install/uninstall operation.</p>
<h3>Pros:</h3>
<p>No need to know about all the content types up-front, so saves on packaging work and not all Marketplace entries are correctly annotated with their supported content types anyway.</p>
<p>Wouldn't clutter up the user's file manager with options they might not ever care about for files they might never edit in Eclipse and after all, Eclipse can still prompt users to install plug-ins from the Marketplace when it detects a content type for which a plug-in is available.</p>
<p>Plug-in installation is user-specific for read-only installations like RPM and Flatpak, so this has the nice side-effect on multi-user systems of showing the option to open a file with Eclipse only to users who have the relevant plug-ins installed.</p>
<h3>Cons:</h3>
<p>Eclipse needs to know how to generate new desktop files when a plug-in is installed that adds support for a new content type.</p>
<p>Users have to actually open a file in Eclipse before discovering there is a Marketplace entry that supports that content type, instead of being prompted by their file manager before Eclipse is launched. Eclipse is still doing plug-in discovery, so this isn't a huge concern for me.</p>
<h2>Feedback</h2>
<p>If you would like to see more nice desktop integrations like this, <a href="https://twitter.com/FOSS_mbooth">let me know on Twitter</a> or by <a href="https://github.com/flathub/org.eclipse.Java/issues">filing a bug against Eclipse on Flathub</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/12-eclipse-now-in-flathub.html" rel="bookmark"
                           title="Permalink to Eclipse 2019-12 Now Available From Flathub">Eclipse 2019-12 Now Available From Flathub</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-01-20T16:00:00+00:00">
                Published: Mon 20 January 2020
        </abbr>
		<br />
        <abbr class="modified" title="2020-01-20T16:00:00+00:00">
                Updated: Mon 20 January 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>How to get the latest release of Eclipse from Flathub.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/12-eclipse-now-in-flathub.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/10-eclipse-module-f30-addendum.html" rel="bookmark"
                           title="Permalink to Eclipse Module on F30 Addendum">Eclipse Module on F30 Addendum</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-08-30T12:30:00+01:00">
                Published: Fri 30 August 2019
        </abbr>
		<br />
        <abbr class="modified" title="2019-08-30T12:30:00+01:00">
                Updated: Fri 30 August 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>Additional information about installing the Eclipse IDE module on F30.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/10-eclipse-module-f30-addendum.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/09-eclipse-module-f30.html" rel="bookmark"
                           title="Permalink to Eclipse is Now a Module on Fedora 30">Eclipse is Now a Module on Fedora 30</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-08-21T14:30:00+01:00">
                Published: Wed 21 August 2019
        </abbr>
		<br />
        <abbr class="modified" title="2019-08-21T14:30:00+01:00">
                Updated: Wed 21 August 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>How to install the Eclipse IDE module on Fedora 30!</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/09-eclipse-module-f30.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/08-openjdk-in-flathub.html" rel="bookmark"
                           title="Permalink to The State of Java in Flathub">The State of Java in Flathub</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-07-22T16:00:00+01:00">
                Published: Mon 22 July 2019
        </abbr>
		<br />
        <abbr class="modified" title="2019-07-22T16:00:00+01:00">
                Updated: Mon 22 July 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>What's the deal with Java in Flathub?</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/08-openjdk-in-flathub.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/06-benefits-of-distro-packaging.html" rel="bookmark"
                           title="Permalink to Benefits of Linux Distro Packaging">Benefits of Linux Distro Packaging</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-12-09T11:00:00+00:00">
                Published: Wed 09 December 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-12-09T11:00:00+00:00">
                Updated: Wed 09 December 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>Discussing the benefits of packaging your software for Linux distributions.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/06-benefits-of-distro-packaging.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/05-status-of-eclipse-in-fedora.html" rel="bookmark"
                           title="Permalink to Status of Eclipse in Fedora">Status of Eclipse in Fedora</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-08-14T16:00:00+01:00">
                Published: Fri 14 August 2015
        </abbr>
		<br />
        <abbr class="modified" title="2015-08-14T16:00:00+01:00">
                Updated: Fri 14 August 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>Current status of Eclipse in Fedora.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/05-status-of-eclipse-in-fedora.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/04-rpm-packaging-workshop.html" rel="bookmark"
                           title="Permalink to RPM Packaging Workshop">RPM Packaging Workshop</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-24T15:00:00+01:00">
                Published: Wed 24 September 2014
        </abbr>
		<br />
        <abbr class="modified" title="2014-09-24T15:00:00+01:00">
                Updated: Wed 24 September 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> </p>
</footer><!-- /.post-info -->                <p>I will be running an RPM packaging workshop in Sheffield on Tuesday.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/04-rpm-packaging-workshop.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/eclipse-luna-for-fedora-20.html" rel="bookmark"
                           title="Permalink to Eclipse Luna for Fedora 20">Eclipse Luna for Fedora 20</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-22T13:00:00+01:00">
                Published: Fri 22 August 2014
        </abbr>
		<br />
        <abbr class="modified" title="2014-08-22T15:00:00+01:00">
                Updated: Fri 22 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>Eclipse Luna is now available for Fedora 20 as a software collection.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/eclipse-luna-for-fedora-20.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/exciting-new-eclipse-plugins.html" rel="bookmark"
                           title="Permalink to Exciting New Eclipse Plug-ins in Fedora">Exciting New Eclipse Plug-ins in Fedora</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-21T14:00:00+01:00">
                Published: Thu 21 August 2014
        </abbr>
		<br />
        <abbr class="modified" title="2014-08-21T14:00:00+01:00">
                Updated: Thu 21 August 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> <a href="http://blog.matbooth.co.uk/tag/eclipse.html">eclipse</a> </p>
</footer><!-- /.post-info -->                <p>TestNG and PHP Development Tools (PDT) plug-ins are now available in Fedora.</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/exciting-new-eclipse-plugins.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://blog.matbooth.co.uk/fedora-20-released.html" rel="bookmark"
                           title="Permalink to Fedora 20 Released">Fedora 20 Released</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-12-17T17:00:00+00:00">
                Published: Tue 17 December 2013
        </abbr>
		<br />
        <abbr class="modified" title="2013-12-17T17:00:00+00:00">
                Updated: Tue 17 December 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://blog.matbooth.co.uk/author/mat-booth.html">Mat Booth</a>
        </address>
<p>In <a href="http://blog.matbooth.co.uk/category/misc.html">Misc</a>.</p>
<p>tags: <a href="http://blog.matbooth.co.uk/tag/fedora.html">fedora</a> </p>
</footer><!-- /.post-info -->                <p>The Fedora Project is proud to announce the release of Fedora 20 today!</p>
                <a class="readmore" href="http://blog.matbooth.co.uk/fedora-20-released.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.matbooth.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/mbooth101">github</a></li>
                            <li><a href="https://twitter.com/FOSS_mbooth">twitter</a></li>
                            <li><a href="mailto:mbooth@fedoraproject.org">email</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>